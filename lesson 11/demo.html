<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<!--<button onclick="(function f() {-->
<!--  location.href = 'https://owu.com.ua';-->
<!--  location.reload();-->
<!--  history.go();-->
<!--  history.back();-->
<!--  history.forward();-->
<!--}())">go to owu site-->
<!--</button>-->
<script>

// json

// let user = {name: 'ivan', age: 30, status: true, greeting: function () {}};
// // let userS = {"name":"ivan","age":30,"status":true};
// let userS = JSON.stringify(user); // перетворює тільки інформацію у string, function - ні(він пропадає)
// console.log(user);
// console.log(userS);
// let parse = JSON.parse(userS); // повертає назад все в обєкт -> {name: 'ivan', age: 30, status: true}
// console.log(parse);

//localStorage локальне сховище для нашого браузера, яке витримує перезавантаження
// після закриття браузера інформація залишається поки ми її примусово не видалимо

// localStorage.setItem('key1', 'value1'); // локальне сховище(ключі є унікальні,
// // якщо ще раз key1 присвоїти значення то перезапишеться value1 на те значення)
// let item1 = localStorage.getItem('key1'); // value1
// console.log(item1);
// console.log(localStorage.key(0)); // key1

// localStorage.setItem('user', JSON.stringify({name: 'vasya'})); // створили обєкт {"name":"vasya"}
// let item = localStorage.getItem('user'); // дістали обєкт, але стрінговий {"name":"vasya"}
// console.log(JSON.parse(item)); // перетворили зі стрінги в обєкт {name: 'vasya'}

// приклад з масивом

// let users = [
//     {id: 1,name: 'vasya', age: 31, status: false},
//     {id: 2,name: 'petya', age: 30, status: true},
//     {id: 3,name: 'kolya', age: 29, status: true},
//     {id: 4,name: 'olya', age: 28, status: false},
//     {id: 5,name: 'max', age: 30, status: true},
//     {id: 6,name: 'anya', age: 31, status: false},
//     {id: 7,name: 'oleg', age: 28, status: false},
//     {id: 8,name: 'andrey', age: 29, status: true},
//     {id: 9,name: 'masha', age: 30, status: true},
//     {id: 10,name: 'olya', age: 31, status: false},
//     {id: 11,name: 'max', age: 31, status: true}
// ];

// for (const user of users) {
//     localStorage.setItem(`user-${user.id}`, JSON.stringify(user));
// } // навіть якщо закоментує все збережеться в сховищі поки не видалимо примусово

// for (let i = 0; i < localStorage.length; i++) {
//     let key = localStorage.key(i);
//     let userJSON = localStorage.getItem(key);
//     console.log(JSON.parse(userJSON));
// }

//кращий спосіб ніж попередній
// localStorage.setItem('users', JSON.stringify(users));
// let userJSON = localStorage.getItem('user');
// console.log(userJSON);
// let parseUsers = JSON.parse(userJSON);
// console.log(parseUsers);
// let filter = parseUsers.filter(value => value.status);
// localStorage.setItem('users', JSON.stringify(filter));

// приклад 2

// let products = [
//     {id: 1, title: 'milk', price: 31},
//     {id: 2, title: 'tomato', price: 30},
//     {id: 3, title: 'juice', price: 29},
//     {id: 4, title: 'tea', price: 28},
//     {id: 5, title: 'water', price: 30}
// ];
// for (const product of products) {
//
//     let divProduct = document.createElement('div');
//     divProduct.innerText = product.title;
//     let addToCartButton = document.createElement('button');
//     addToCartButton.innerText = 'add to cart';
//     document.body.append(divProduct);
//     divProduct.append(addToCartButton);
//
//     addToCartButton.onclick = function () {
//         let products = localStorage.getItem('products'); // JSON string
//         console.log(products);
//         if (!products) {
//         products = [];
//         products.push(product);
//         let stringify = JSON.stringify(products);
//         localStorage.setItem('products', stringify);
//         } else {
//             let realArrayOfProductsObject = JSON.parse(products);
//             realArrayOfProductsObject.push(product);
//             localStorage.setItem('products', JSON.stringify(realArrayOfProductsObject))
//         }
//     }
// }

// sessionStorage

// одноразова сесія, після закриття браузера інформація пропадає
// також можна встановити певний ліміт часу коли все видалиться
// sessionStorage.setItem('xxx', 'yyy');

// cookies
// took in можна зберігати і в sessionStorage і в localStorage

// document.cookie = 'name=kokos';
// document.cookie = 'surname=abrikosov';
// document.cookie = 'age=31';
// document.cookie = 'status=true';
// document.cookie = 'max-age=233'; // це є скільки (мілісекунд або секунди-перевірити) cookie буде жити
// console.log(document.cookie);
// let cookies = document.cookie.split(';');
// // console.log(cookies);
// // let firsCookie = cookies[0];
// // console.log(firsCookie);
//
// let obj = {};
// for (let i = 0; i < cookies.length; i++) {
//     let cookie = cookies[i].split('=');
//     console.log(cookie);
// obj[cookie[0]] = cookie[1];
// }
// console.log(obj);

// navigator

// можна зчитати локацію користувача за допомогою браузаре
// navigator.geolocation.getCurrentPosition(({coords}) => console.log(coords))

// navigator.mediaDevices.getUserMedia({video: true})
// .then(stream => {
//     let videoplayer = document.getElementById('videoplayer');
//     videoplayer.srcObject = stream;
//     videoplayer.play();
// });


// let siteUrl = location.href;
// console.log(siteUrl);
//
// let url = new URL(siteUrl);
// console.log(url);
// let ijt = url.searchParams.get('_ijt');
// console.log(ijt);

</script>
</body>
</html>